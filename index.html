<!DOCTYPE html>
<html lang="en-US">
  <head>
       
<script>
  window.tikTokPixelId = "69939cd815d5098444674513";
  var a = document.createElement("script");
  a.setAttribute("async", "");
  a.setAttribute("defer", "");
  a.setAttribute("src", "https://cdn.utmify.com.br/scripts/pixel/pixel-tiktok.js");
  document.head.appendChild(a);
</script>

<script
  src="https://cdn.utmify.com.br/scripts/utms/latest.js"
  data-utmify-prevent-xcod-sck
  data-utmify-prevent-subids
  async
  defer
></script>
       
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title></title>
    <link rel="shortcut icon" id="favicon" type="image/x-icon">
    <link rel="preconnect" href="https://fonts.googleapis.com/" />
    <link rel="preconnect" href="https://fonts.gstatic.com/" crossorigin="" />
    <link href="./public/css2.css" rel="stylesheet" />
    <link rel="stylesheet" href="./public/styles.css" />
    <link rel="stylesheet" href="./public/all.min.css" />
    <style>
      /* Estilos para o FAQ */
      .faq-section {
        padding: 40px 0;
        background-color: #f8f9fb;
      }

      .faq-title {
        text-align: center;
        color: var(--cor-primaria);
        font-size: 26px;
        font-weight: 700;
        margin-bottom: 30px;
      }

      .faq-container {
        max-width: 800px;
        margin: 0 auto;
      }

      .faq-item {
        background-color: white;
        border-radius: 8px;
        margin-bottom: 15px;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
        overflow: hidden;
      }

      .faq-question {
        padding: 18px 20px;
        cursor: pointer;
        display: flex;
        justify-content: space-between;
        align-items: center;
        transition: background-color 0.3s;
      }

      .faq-question:hover {
        background-color: rgba(0, 164, 146, 0.05);
      }

      .faq-question h3 {
        margin: 0;
        font-size: 16px;
        font-weight: 600;
        color: var(--cor-texto);
      }

      .faq-icon {
        color: var(--cor-primaria);
        transition: transform 0.3s;
      }

      .faq-answer {
        padding: 0 20px;
        max-height: 0;
        overflow: hidden;
        transition: max-height 0.4s ease, padding 0.4s ease;
      }

      .faq-answer p {
        margin: 0 0 15px;
        color: var(--cor-texto-claro);
        line-height: 1.6;
      }

      .faq-item.active .faq-answer {
        max-height: 1000px;
        padding: 5px 20px 20px;
      }

      .faq-item.active .faq-icon {
        transform: rotate(180deg);
      }
    </style>
    <script src="https://js.paystack.co/v1/inline.js"></script>
    <script>
      let params = {
        src: "",
        sck: "",
        utm_source: "",
        utm_campaign: "",
        utm_medium: "",
        utm_content: "",
        utm_term: "",
        gclid: "",
        fbclid: "",
      };

      for (let key in params) {
        const url_params = new URLSearchParams(window.location.search);
        const get_param = url_params.get(key);

        if (typeof get_param == "string") {
          if (get_param.length > 0) {
            params[key] = get_param;
          }
        }
      }

      localStorage.setItem("tracking_data", JSON.stringify(params));
    </script>
  </head>
  <body cz-shortcut-listen="true" style="overflow: auto">
    <header>
      <div class="container">
        <div class="header-content">
          <div class="logo">
            <a href="#"
              ><img id="logo" alt="Logo Instituto"
            /></a>
          </div>
          <div class="header-right">
            <nav class="main-nav">
              <ul>
                <li>
                  <a
                    href="#"
                    class="active"
                    >Home</a
                  >
                </li>
                <li>
                  <a
                    href="#como-ajudar-section"
                    >How to Help</a
                  >
                </li>
                <li>
                  <a
                    href="#about-section"
                    >About Us</a
                  >
                </li>
                <li>
                  <a
                    href="#blog-section"
                    >Blog</a
                  >
                </li>
                <li>
                  <a
                    href="#contact-section"
                    >Contact</a
                  >
                </li>
                <li>
                  <a
                    href="#comentarios-secao"
                    >Testimonials</a
                  >
                </li>
                <li>
                  <a href="#faq-section"
                    >FAQ</a
                  >
                </li>
                <li>
                  <a
                    href="#"
                    class="btn-header-doar"
                    >Donate Now</a
                  >
                </li>
              </ul>
            </nav>
            <div class="mobile-menu-toggle">
              <i class="fas fa-bars"></i>
            </div>
          </div>
        </div>
      </div>
    </header>

    <main>
      <section id="categoria" class="categoria fade-in">
        <div class="container">
          <div class="categoria-info">
            <span id="category"></span>
            <h1 id="title"></h1>

            <div class="foto-principal">
              <img id="main-image" />
            </div>

            <div class="progresso-principal">
              <div class="valores-container">
                <div class="valor-arrecadado">
                  <span class="valor-label">Raised</span>
                  <span class="valor-numero" id="amount-collected">KSh 1.2M</span>
                </div>
                <div class="valor-meta">
                  <span class="valor-label">Goal</span>
                  <span class="valor-numero" id="amount-goal">KSh 100M</span>
                </div>
              </div>
              <div class="barra-progresso-container">
                <div class="barra-progresso">
                  <div
                    class="barra-progresso-fill"
                    id="progress-bar"
                  >
                    <span class="porcentagem">6.66%</span>
                  </div>
                </div>
              </div>
              <div class="apoiadores-info">
                <span class="apoiadores-label">Supports</span>
                <span class="apoiadores-numero" id="supporters">11K</span>
              </div>
              <a
                href="#"
                class="btn-doar"
                id="btn-doar-hero"
                >I Want to Help!</a
              >
            </div>

            <div class="historia-content">
              <div class="tabs-menu">
                <ul>
                  <li class="active" data-tab="Sobre">About</li>
                  <li data-tab="como-ajudar">How to Help</li>
                  <li data-tab="quem-somos">Who Whe Are</li>
                </ul>
              </div>

              <!-- Conte√∫do da aba Sobre -->
              <div class="tab-content active" id="Sobre">
                <div class="historia-texto">
                  <span class="data-criacao"
                    ><strong>Fundraiser created on:</strong>
                    <br>
                    <span id="creation-date"></span></span
                  >

                  <p><strong> Verified Story‚úÖ</strong></p>
                  <p><strong>Fundraiser created on: 11/12/2025</strong><br><span id="creation-date"></span></p>
                  <p><strong>Imani Children‚Äôs Home, located in Kayole, Nairobi, is a loving and safe haven for abandoned, orphaned, and vulnerable children. Founded in 1992, our mission is to provide a nurturing family environment where every child feels valued, protected, and supported. At Imani, we go beyond providing shelter ‚Äî we focus on holistic care, ensuring that children have access to quality education, proper healthcare, emotional guidance, and essential life skills. Our programs are designed to empower children to reach their full potential and to help them grow into responsible, confident, and compassionate adults. Through the dedication of our staff, volunteers, and the wider community, Imani Children‚Äôs Home transforms the lives of countless children, offering them hope, stability, and the opportunity to build brighter futures. We believe that every child deserves love, care, and the chance to thrive, and we work tirelessly to make that belief a reality every day.  </strong></p>
                  <p id="text-01">
                  </p>

                  <div class="historia-imagem">
                    <img id="image-text-01" />
                  </div>

                  <p id="text-02"></p>

                  <div class="cta-box">
                    <a
                      href="#"
                      class="btn-doar"
                      id="btn-doar-historia"
                      >I Want to Help</a
                    >
                  </div>
                </div>
              </div>

              <!-- Conte√∫do da aba Como Ajudar -->
              <div class="tab-content" id="como-ajudar">
                <div class="como-ajudar-container" id="como-ajudar-section">
                  <div class="ajuda-cards">
                    <div class="ajuda-card">
                      <div class="ajuda-icon">
                        <img
                          src="./public/icon-doacao.png"
                          alt="√çcone de doa√ß√£o"
                        />
                      </div>
                      <div class="ajuda-texto">
                        <p id="help-text"></p>
                      </div>
                      <div class="ajuda-botao">
                        <a
                          href="#"
                          class="btn-ajuda btn-doar doe-agora"
                          >DONATE NOW</a
                        >
                      </div>
                    </div>

                    <div class="ajuda-card">
                      <div class="ajuda-icon">
                        <img
                          src="./public/icon-compartilhar.png"
                          alt="√çcone de compartilhamento"
                        />
                      </div>
                      <div class="ajuda-texto">
                        <p>
                          Help by spreading the word, sharing, and inspiring others to do good.
                          Together, we can multiply kindness and love.
                        </p>
                      </div>
                      <div class="ajuda-botao">
                        <div class="share-dropdown" style="position:relative;display:inline-block;">
                          <button id="share-btn" class="btn-ajuda btn-compartilhar-grande compartilhar" style="cursor:pointer;border:none;font:inherit;">SHARE</button>
                          <div class="share-options" id="share-options" style="display:none;position:absolute;bottom:100%;left:50%;transform:translateX(-50%);background:#fff;border-radius:12px;box-shadow:0 8px 24px rgba(0,0,0,0.15);padding:8px;margin-bottom:8px;min-width:180px;z-index:100;">
                            <a href="#" id="share-facebook" class="share-option" style="display:flex;align-items:center;gap:10px;padding:10px 12px;color:#1877f2;text-decoration:none;border-radius:8px;transition:background 0.2s;"><i class="fab fa-facebook" style="font-size:18px;"></i> Facebook</a>
                            <a href="#" id="share-twitter" class="share-option" style="display:flex;align-items:center;gap:10px;padding:10px 12px;color:#1da1f2;text-decoration:none;border-radius:8px;transition:background 0.2s;"><i class="fab fa-twitter" style="font-size:18px;"></i> Twitter</a>
                            <a href="#" id="share-whatsapp" class="share-option" style="display:flex;align-items:center;gap:10px;padding:10px 12px;color:#25d366;text-decoration:none;border-radius:8px;transition:background 0.2s;"><i class="fab fa-whatsapp" style="font-size:18px;"></i> WhatsApp</a>
                            <a href="#" id="share-linkedin" class="share-option" style="display:flex;align-items:center;gap:10px;padding:10px 12px;color:#0a66c2;text-decoration:none;border-radius:8px;transition:background 0.2s;"><i class="fab fa-linkedin" style="font-size:18px;"></i> LinkedIn</a>
                            <a href="#" id="share-copy" class="share-option" style="display:flex;align-items:center;gap:10px;padding:10px 12px;color:#6b7280;text-decoration:none;border-radius:8px;transition:background 0.2s;"><i class="fas fa-link" style="font-size:18px;"></i> Copy Link</a>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>

              <!-- Conte√∫do da aba Quem Somos -->
              <div class="tab-content" id="quem-somos">
                <div class="quem-somos-container">
                  <h2>Who We Are</h2>
                  <p id="who-we-are"></p>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>

      <section id="comentarios-secao" class="comentarios-secao">
        <div class="container">
          <h2 style="color: #2563eb;">Supporters' Comments</h2>
          <div class="comentarios" id="comments-area">
             
          </div>
        </div>
      </section>
    </main>

    <section class="faq-section" id="faq-section">
      <div class="container">
        <h2 class="faq-title">Frequently Asked Questions</h2>
        <div class="faq-container" id="faq"></div>
      </div>
    </section>

    <footer>
      <div class="container">
        <div class="footer-content">
          <div class="footer-columns">
            <div class="footer-column">
              <h4>About Us</h4>
              <p class="footer-info" style="color:rgba(255,255,255,0.7);line-height:1.6;">
                At Children First Kenya, our top priority is to make education accessible to every child and fight for gender equality.
              </p>
              <a href="#about-section" class="more-about-link" style="color:#fff;text-decoration:underline;display:inline-block;margin-top:8px;">More About Us</a>
            </div>
            <div class="footer-column">
              <h4>Get In Touch</h4>
              <p class="footer-info" style="color:rgba(255,255,255,0.7);">
                <a href="mailto:info@childrenfirst.uk" style="color:rgba(255,255,255,0.7);text-decoration:none;">info@childrenfirst.uk</a><br>
                <a href="tel:+447939576727" style="color:rgba(255,255,255,0.7);text-decoration:none;">+44 7939 576 727</a>
              </p>
            </div>
            <div class="footer-column">
              <div class="social-icons">
                <a
                  title="Facebook"
                  id="footer-facebook"
                  href="#"
                  ><img src="./public/facebook icon.jpg" alt="Facebook" class="social-icon-img"
                ></a>
                <a
                  title="Twitter"
                  id="footer-twitter"
                  href="#"
                  ><img src="./public/twitter icon.jpg" alt="Twitter" class="social-icon-img"
                ></a>
                <a
                  title="TikTok"
                  id="footer-tiktok"
                  href="#"
                  ><img src="./public/tiktok icon.jpg" alt="TikTok" class="social-icon-img"
                ></a>
              </div>
            </div>
          </div>
          <div class="footer-bottom">
            <p id="all-rights-reserved"></p>
            <p class="footer-certificacao">
               
            </p>
          </div>
        </div>
      </div>
    </footer>

    <div class="fixed-bottom-mobile">
      <a
        href="#ajudar"
        class="btn-doar-fixed"
        id="btn-doar-fixed"
        >I Want to Help</a
      >
    </div>

    <!-- Modal de Doa√ß√£o -->
    <div id="modal-doacao" class="modal" style="display: none">
      <div class="modal-content">
        <span class="close-modal">√ó</span>
        <div class="select-amount">
          <h2 id="donate-modal-title" style="color: #2563eb;"></h2>
          <p id="donate-modal-sub-title" class="modal-subtitulo"></p>
          <p class="modal-click-hint" style="font-size:13px;color:#6b7280;margin-bottom:8px;">üëÜ Enter your email, select your country, then click an amount to donate instantly via Paystack</p>

          <!-- Donor email input -->
          <div class="donor-email-wrap" style="margin-bottom:14px;">
            <input
              type="email"
              id="donor-email-input"
              placeholder="Enter your email address"
              autocomplete="email"
              style="width:100%;padding:10px 14px;border:1.5px solid #d1d5db;border-radius:8px;font-size:14px;outline:none;box-sizing:border-box;"
            />
            <p id="donor-email-error" style="color:#e74c3c;font-size:12px;margin:4px 0 0;display:none;">Please enter a valid email address.</p>
          </div>

          <!-- Country selector for Paystack Africa -->
          <div class="donor-country-wrap" style="margin-bottom:14px;display:none;">
            <select id="donor-country-input" style="width:100%;padding:10px 14px;border:1.5px solid #d1d5db;border-radius:8px;font-size:14px;outline:none;box-sizing:border-box;background:#fff;cursor:pointer;">
              <option value="KE" selected>Kenya</option>
            </select>
            <p id="donor-country-error" style="color:#e74c3c;font-size:12px;margin:4px 0 0;display:none;">Please select your country.</p>
          </div>

          <div class="valores-doacao" id="prices-area">
            <button class="valor-item valor-btn" data-amount="1600" type="button">KSh 1,600</button>
            <button class="valor-item valor-btn" data-amount="2500" type="button">KSh 2,500 <span class="badge-popular">Popular</span></button>
            <button class="valor-item valor-btn" data-amount="5000" type="button">KSh 5,000</button>
            <button class="valor-item valor-btn" data-amount="7500" type="button">KSh 7,500</button>
            <button class="valor-item valor-btn" data-amount="10000" type="button">KSh 10,000</button>
            <button class="valor-item valor-btn" data-amount="15000" type="button">KSh 15,000</button>
            <button class="valor-item valor-btn" data-amount="20000" type="button">KSh 20,000</button>
            <button class="valor-item valor-btn" data-amount="25000" type="button">KSh 25,000</button>
          </div>
          <!-- Custom amount input that auto-fills when amount is selected -->
          <div class="custom-amount-wrap" style="margin: 16px 0;">
            <input
              type="number"
              id="custom-amount-input"
              placeholder="Or enter custom amount (KSh)"
              min="1600"
              style="width:100%;padding:12px 14px;border:2px solid #d1d5db;border-radius:8px;font-size:16px;outline:none;box-sizing:border-box;text-align:center;font-weight:bold;"
            />
            <p id="custom-amount-error" style="color:#e74c3c;font-size:12px;margin:4px 0 0;display:none;">Please enter a valid amount.</p>
          </div>
          <div class="valor-item-grande" id="highest-price">
            <button class="valor-btn" data-amount="50000" type="button" style="background:none;border:none;width:100%;font-size:inherit;font-weight:inherit;color:inherit;cursor:pointer;">
              üíõ KSh 50,000 ‚Äî Be a Champion for Imani Children
            </button>
          </div>
          <div class="modal-footer">
            <p style="font-size:12px;color:#9ca3af;text-align:center;margin-bottom:8px;">üîí Secure payments powered by Paystack</p>
            <div class="metodos-pagamento paystack-methods">
              <button type="button" class="pay-method-badge pay-method-btn" data-channel="mobile_money" title="Pay with MPesa">üì± MPesa</button>
              <button type="button" class="pay-method-badge pay-method-btn" data-channel="mobile_money" title="Pay with Airtel Money">üì± Airtel Money</button>
              <button type="button" class="pay-method-badge pay-method-btn" data-channel="mobile_money" title="Pay with Tkash">üì± Tkash</button>
              <button type="button" class="pay-method-badge pay-method-btn" data-channel="card" title="Pay with Card">üí≥ Card</button>
              <button type="button" class="pay-method-badge pay-method-btn" data-channel="bank" title="Pay with Bank Transfer">üè¶ Bank</button>
            </div>
          </div>
        </div>
        <div class="thanks text-center p-6 bg-white rounded-lg shadow-md max-w-lg mx-auto hidden"
        style="font-family: Arial, sans-serif; color: #2f855a;">
        <h2 class="text-3xl font-bold mb-4">üíô Thank you for your donation!</h2>

        <p style="text-align: center; color: #4a5568; font-size: 1rem; line-height: 1.5; margin-bottom: 1.2rem;">
          Your support is giving Imani Childrens Home a second chance.
        </p>
        <p style="color: #4a5568; font-size: 0.9rem; font-style: italic; margin-bottom: 0; text-align: center;">
          "You matter, Imani Childrens Home. Your pain will not be ignored.
          <br>
          Thank you for trusting us." üôè
        </p>
        <button class="valor-btn valor-btn-grande-2 btn-help-again"
          style="margin-top: 24px; cursor: pointer; font-size: 1.1em; background-color: var(--cor-primaria); border: none; color: #fff;">
          Help again
        </button>
      </div>
      </div>
      
    </div>
    <div id="toast-error" class="toast toast-error hidden">
      <span class="toast-icon">‚ö†Ô∏è</span>
      <span class="toast-text">
        Payment failed. Please try again or use a different payment method.
      </span>
    </div>

    <style>
      .toast {
        position: fixed;
        bottom: 24px;
        right: 24px;
        display: flex;
        align-items: center;
        gap: 12px;
        padding: 14px 18px;
        border-radius: 8px;
        font-family: Arial, sans-serif;
        font-size: 14px;
        box-shadow: 0 8px 20px rgba(0, 0, 0, 0.2);
        animation: slideIn 0.3s ease;
        z-index: 9999;
      }
      .toast-error { background: #e74c3c; color: #fff; }
      .toast-icon  { font-size: 18px; }
      .hidden      { display: none; }
      @keyframes slideIn {
        from { opacity: 0; transform: translateY(10px); }
        to   { opacity: 1; transform: translateY(0); }
      }

      /* Paystack payment method badges */
      .paystack-methods {
        display: flex;
        flex-wrap: wrap;
        gap: 6px;
        justify-content: center;
        margin-top: 6px;
      }
      .pay-method-badge {
        background: #f0f4ff;
        border: 1px solid #d0d9ff;
        color: #143eee;
        border-radius: 20px;
        padding: 4px 12px;
        font-size: 12px;
        font-weight: 600;
        white-space: nowrap;
      }
      .pay-method-btn {
        cursor: pointer;
        transition: transform 0.15s, box-shadow 0.15s, background 0.15s, color 0.15s;
        font-family: inherit;
      }
      .pay-method-btn:hover {
        transform: translateY(-2px);
        box-shadow: 0 4px 12px rgba(20,62,238,0.25);
        background: linear-gradient(90deg, #143eee, #0b2bd6) !important;
        color: #fff !important;
        border-color: transparent !important;
      }
      .pay-method-btn:active {
        transform: scale(0.95);
      }

      /* Clickable amount cards */
      .valor-btn {
        cursor: pointer;
        transition: transform 0.15s, box-shadow 0.15s, background 0.15s, color 0.15s;
      }
      .valor-btn:hover {
        transform: translateY(-2px);
        box-shadow: 0 6px 18px rgba(20,62,238,0.22);
        background: linear-gradient(90deg, #143eee, #0b2bd6) !important;
        color: #fff !important;
        border-color: transparent !important;
      }
      .valor-btn:active { transform: scale(0.97); }
      .custom-amount-wrap input:focus { border-color: var(--cor-primaria) !important; box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1); }
      .custom-amount-wrap input::placeholder { color: #9ca3af; font-weight: normal; }
      .valor-btn-loading { opacity: 0.7; pointer-events: none; }
    </style>

    <script>
      /* ‚îÄ‚îÄ Paystack inline payment ‚Äì all channels ‚îÄ‚îÄ */
      const PAYSTACK_PUBLIC_KEY = "pk_test_7536e5b57abfcdfb906f76ea9f11041fa33dc988";

      // Flag: true while Paystack popup is open ‚Äî prevents modal backdrop from closing modal
      var _paystackActive = false;

      // Country exchange rates (USD to local currency)
      const COUNTRY_RATES = {
        'KE': { currency: 'KES', rate: 160 },
        'GH': { currency: 'GHS', rate: 12 },
        'KE': { currency: 'KES', rate: 160 },
        'ZA': { currency: 'ZAR', rate: 19 },
        'EG': { currency: 'EGP', rate: 50 },
        'MA': { currency: 'MAD', rate: 10 },
        'TZ': { currency: 'TZS', rate: 2500 },
        'UG': { currency: 'UGX', rate: 3800 },
        'RW': { currency: 'RWF', rate: 1200 },
        'SN': { currency: 'XOF', rate: 620 },
        'CI': { currency: 'XOF', rate: 620 },
        'CM': { currency: 'XAF', rate: 620 },
        'ET': { currency: 'ETB', rate: 56 },
        'ZW': { currency: 'ZWL', rate: 640 },
        'ZM': { currency: 'ZMW', rate: 26 },
        'MW': { currency: 'MWK', rate: 1680 },
        'MZ': { currency: 'MZN', rate: 64 },
        'BW': { currency: 'BWP', rate: 14 },
        'SL': { currency: 'SLL', rate: 22000 },
        'LR': { currency: 'LRD', rate: 190 },
        'US': { currency: 'USD', rate: 1 },
        'GB': { currency: 'GBP', rate: 0.79 },
        'CA': { currency: 'CAD', rate: 1.36 },
        'AU': { currency: 'AUD', rate: 1.53 },
        'DE': { currency: 'EUR', rate: 0.92 },
        'FR': { currency: 'EUR', rate: 0.92 },
        'OTHER': { currency: 'USD', rate: 1 }
      };

      function getTrackingData() {
        return JSON.parse(localStorage.getItem('tracking_data')) || {};
      }
      function getClientId() {
        const match = document.cookie.match(/_ga=GA\d+\.\d+\.(\d+\.\d+)/);
        return match ? match[1] : null;
      }
      function showPaymentErrorToast(message) {
        const toast = document.getElementById('toast-error');
        const text  = toast.querySelector('.toast-text');
        if (message) text.textContent = message;
        toast.classList.remove('hidden');
        setTimeout(() => toast.classList.add('hidden'), 5000);
      }

      /**
       * Validate email format.
       */
      function isValidEmail(email) {
        return /^[^\s@]+@[^\s@]+\.[^\s@]+KSh /.test(email);
      }

      /**
       * Launch Paystack inline payment with optional channel.
       * @param {number} usdAmount - The amount in USD
       * @param {string} channel - Optional payment channel: 'card', 'bank', 'mobile_money', 'ussd', 'qr'
       */
      function launchPaystackForAmount(usdAmount, channel) {
        if (!usdAmount || usdAmount <= 0) {
          showPaymentErrorToast("Please select a donation amount");
          return;
        }

        // Get donor email (or use placeholder if not entered)
        var emailInput = document.getElementById('donor-email-input');
        var donorEmail = emailInput ? emailInput.value.trim() : '';

        // Use placeholder email if not provided - Paystack will collect it
        if (!donorEmail || !isValidEmail(donorEmail)) {
          donorEmail = 'donor@paystack.com';
        }

        // Get country (or use default if not selected)
        var countryInput = document.getElementById('donor-country-input');
        var donorCountry = countryInput ? countryInput.value : '';

        // Use default country if not provided
        if (!donorCountry) {
          donorCountry = 'KE'; // Kenya
        }

        // Get currency settings for selected country
        var countrySettings = COUNTRY_RATES[donorCountry] || COUNTRY_RATES['OTHER'];
        var currency = countrySettings.currency;
        var exchangeRate = countrySettings.rate;

        // Calculate amount in local currency (cents)
        var localAmount = usdAmount;
        if (donorCountry !== 'KE') {
          localAmount = Math.round(usdAmount * exchangeRate);
        }
        var centsAmount = localAmount * 100; // Paystack uses cents
        var ref           = 'IMANI_' + Date.now() + '_' + Math.random().toString(36).substr(2, 6).toUpperCase();

        // Payment channels based on selected method
        var paymentChannels = ['card', 'mobile_money', 'bank'];
        if (channel === 'card') {
          paymentChannels = ['card'];
        } else if (channel === 'bank') {
          paymentChannels = ['bank'];
        } else if (channel === 'mobile_money') {
          paymentChannels = ['mobile_money'];
        } else if (channel === 'ussd') {
          paymentChannels = ['ussd'];
        } else if (channel === 'qr') {
          paymentChannels = ['qr'];
        }
        
        var handler = PaystackPop.setup({
          key:      PAYSTACK_PUBLIC_KEY,
          email:    donorEmail,
          amount:   centsAmount,
          currency: currency,
          ref:      ref,
          label:    'Imani Childrens Home Donation - ' + usdAmount + ' KES',
          metadata: {
            custom_fields: [
              { display_name: "Donor Email", variable_name: "donor_email", value: donorEmail },
              { display_name: "KES Amount", variable_name: "kes_amount", value: usdAmount }
            ]
          },
          callback: function(response) {
            // Payment received - verify on server
            fetch('/verify', {
              method: 'POST',
              headers: { 'Content-Type': 'application/json' },
              body: JSON.stringify({
                reference: response.reference,
                amount: usdAmount,
                email: donorEmail
              })
            })
            .then(function(res) { return res.json(); })
            .then(function(data) {
              if (data.success || data.status === 'success') {
                // Show thank-you screen
                var modal = document.getElementById('modal-doacao');
                modal.querySelector('.select-amount').classList.add('hidden');
                modal.querySelector('.thanks').classList.remove('hidden');
                modal.style.display = 'block';
                document.body.style.overflow = 'hidden';
                setTimeout(function() { modal.classList.add('active'); }, 10);
              } else {
                showPaymentErrorToast(data.message || "Payment verification failed");
              }
            })
            .catch(function(err) {
              console.error('Verification error:', err);
              showPaymentErrorToast("Could not verify payment");
            });
          },
          onClose: function() {
            // Reopen modal if closed without paying
            var modal = document.getElementById('modal-doacao');
            if (modal) {
              modal.style.display = 'block';
              document.body.style.overflow = 'hidden';
              setTimeout(function() { modal.classList.add('active'); }, 10);
            }
          }
        });

        handler.openIframe();
      }
    </script>
    <script src="./public/main.js"></script>
    <script>
      document.addEventListener("DOMContentLoaded", function () {
        // Show thank-you modal if returning from successful Paystack payment
        (function() {
          var urlParams = new URLSearchParams(window.location.search);
          if (urlParams.get('payment') === 'success') {
            var returnModal = document.getElementById('modal-doacao');
            if (returnModal) {
              var sel = returnModal.querySelector('.select-amount');
              var thx = returnModal.querySelector('.thanks');
              if (sel) sel.classList.add('hidden');
              if (thx) thx.classList.remove('hidden');
              returnModal.style.display = 'block';
              document.body.style.overflow = 'hidden';
              setTimeout(function() { returnModal.classList.add('active'); }, 10);
            }
            window.history.replaceState({}, document.title, window.location.pathname);
          }
        })();

        // Barras de progresso
        const barrasProgresso = document.querySelectorAll(
          ".barra-progresso-fill"
        );
        barrasProgresso.forEach((barra) => {
          const percentagem = barra.getAttribute("data-percentage");
          barra.style.width = percentagem + "%";
        });

        // Modal de doa√ß√£o
        const modal = document.getElementById("modal-doacao");
        const botoesDoar = document.querySelectorAll(
          ".btn-doar, .btn-doar-fixed, .btn-doar-lateral"
        );
        const closeModal = document.querySelector(".close-modal");
        const selectAmountContainer = document.querySelector(".select-amount");
        const thanksContainer = document.querySelector(".thanks");

        // "Help again" resets to amount selection
        const btnHelpAgain = document.querySelector(".btn-help-again");
        if (btnHelpAgain) {
          btnHelpAgain.addEventListener("click", () => {
            selectAmountContainer.classList.remove("hidden");
            thanksContainer.classList.add("hidden");
          });
        }

        function openModal() {
          selectAmountContainer.classList.remove("hidden");
          thanksContainer.classList.add("hidden");
          modal.style.display = "block";
          document.body.style.overflow = "hidden";
          setTimeout(() => modal.classList.add("active"), 10);
        }

        function closeModalFn() {
          modal.classList.remove("active");
          setTimeout(() => {
            modal.style.display = "none";
            document.body.style.overflow = "auto";
            selectAmountContainer.classList.remove("hidden");
            thanksContainer.classList.add("hidden");
          }, 300);
        }

        // Abrir modal
        botoesDoar.forEach((botao) => {
          botao.addEventListener("click", function (e) {
            e.preventDefault();
            openModal();
          });
        });

        // Fechar modal
        if (closeModal) {
          closeModal.addEventListener("click", closeModalFn);
        }

        // Fechar modal ao clicar fora (but not when Paystack is active)
        window.addEventListener("click", function (e) {
          if (e.target === modal && !_paystackActive) closeModalFn();
        });

        // Fechar modal com ESC
        document.addEventListener("keydown", function (e) {
          if (e.key === "Escape" && modal.classList.contains("active")) closeModalFn();
        });

        // Wire up amount buttons to launch Paystack directly
        document.addEventListener("click", function(e) {
          const btn = e.target.closest(".valor-btn[data-amount]");
          if (!btn) return;
          e.stopPropagation(); // prevent modal-close handler from firing
          const amount = parseFloat(btn.getAttribute("data-amount"));
          
          // Auto-fill the custom amount input with selected amount
          const customAmountInput = document.getElementById("custom-amount-input");
          if (customAmountInput) {
            customAmountInput.value = amount;
            // Also update the champion button text to show selected amount
            const championBtn = document.querySelector("#highest-price .valor-btn");
            if (championBtn) {
              championBtn.innerHTML = "üíõ KSh " + amount.toLocaleString() + " ‚Äî Be a Champion for Imani Children";
              championBtn.setAttribute("data-amount", amount);
            }
          }
          
          if (amount && amount > 0) {
            localStorage.setItem("amount-selected", amount);
            launchPaystackForAmount(amount);
          }
        });

        // Handle custom amount input - also launch payment when user enters amount and presses Enter
        document.addEventListener("keydown", function(e) {
          const customAmountInput = document.getElementById("custom-amount-input");
          if (!customAmountInput) return;
          
          if (e.key === "Enter" && document.activeElement === customAmountInput) {
            e.preventDefault();
            const amount = parseFloat(customAmountInput.value);
            if (amount && amount > 0) {
              localStorage.setItem("amount-selected", amount);
              // Also update the champion button text to show entered amount
              const championBtn = document.querySelector("#highest-price .valor-btn");
              if (championBtn) {
                championBtn.innerHTML = "üíõ KSh " + amount.toLocaleString() + " ‚Äî Be a Champion for Imani Children";
                championBtn.setAttribute("data-amount", amount);
              }
              launchPaystackForAmount(amount);
            }
          }
        });

        // Update champion button as user types custom amount
        document.addEventListener("input", function(e) {
          if (e.target.id === "custom-amount-input") {
            const amount = parseFloat(e.target.value);
            const championBtn = document.querySelector("#highest-price .valor-btn");
            if (championBtn && amount && amount > 0) {
              championBtn.innerHTML = "üíõ KSh " + amount.toLocaleString() + " ‚Äî Be a Champion for Imani Children";
              championBtn.setAttribute("data-amount", amount);
            }
          }
        });

        // Bot√µes de toggle para as respostas dos coment√°rios
        const toggleButtons = document.querySelectorAll(".toggle-btn");
        toggleButtons.forEach(function (button) {
          const textoOriginal = button.innerHTML;
          let isExpanded = false;

          button.addEventListener("click", function () {
            const parent = this.closest(".comentario");
            const respostasConteudo = parent.querySelector(
              ".comentario-respostas-conteudo"
            );
            const loader = this.nextElementSibling;

            loader.style.display = "inline-block";

            setTimeout(() => {
              loader.style.display = "none";

              isExpanded = !isExpanded;

              if (isExpanded) {
                respostasConteudo.style.display = "block";
                setTimeout(() => {
                  respostasConteudo.classList.add("visible");
                }, 10);

                this.innerHTML = `‚Äî&nbsp;&nbsp;Hide Replies`;
              } else {
                respostasConteudo.classList.remove("visible");

                setTimeout(() => {
                  respostasConteudo.style.display = "none";
                }, 300);

                this.innerHTML = textoOriginal;
              }
            }, 700);
          });
        });

        // Funcionalidade das abas
        const tabLinks = document.querySelectorAll(".tabs-menu li");
        const tabContents = document.querySelectorAll(".tab-content");

        tabLinks.forEach(function (tab) {
          tab.addEventListener("click", function () {
            tabLinks.forEach((t) => t.classList.remove("active"));
            tabContents.forEach((c) => c.classList.remove("active"));

            this.classList.add("active");

            const tabId = this.getAttribute("data-tab");
            document.getElementById(tabId).classList.add("active");
          });
        });

        // Integrar bot√µes de Como Ajudar
        const btnDoeAgora = document.querySelector(".doe-agora");
        if (btnDoeAgora) {
          btnDoeAgora.addEventListener("click", function (e) {
            e.preventDefault();
            openModal();
          });
        }

        // Menu mobile toggle
        const mobileMenuToggle = document.querySelector(".mobile-menu-toggle");
        const headerElement = document.querySelector("header");

        if (mobileMenuToggle) {
          mobileMenuToggle.addEventListener("click", function () {
            headerElement.classList.toggle("mobile-menu-active");
            if (headerElement.classList.contains("mobile-menu-active")) {
              document.body.style.overflow = "hidden";
            } else {
              document.body.style.overflow = "auto";
            }
          });
        }

        // Menu links no mobile fecham o menu ao clicar
        const mobileNavLinks = document.querySelectorAll(".main-nav a");
        mobileNavLinks.forEach((link) => {
          link.addEventListener("click", function () {
            if (headerElement.classList.contains("mobile-menu-active")) {
              headerElement.classList.remove("mobile-menu-active");
              document.body.style.overflow = "auto";
            }
          });
        });

        // Bot√£o doar no header abre modal
        const btnHeaderDoar = document.querySelector(".btn-header-doar");
        if (btnHeaderDoar) {
          btnHeaderDoar.addEventListener("click", function (e) {
            e.preventDefault();
            openModal();
          });
        }

        // Funcionalidade do FAQ
        const faqItems = document.querySelectorAll(".faq-item");

        faqItems.forEach((item) => {
          const question = item.querySelector(".faq-question");

          question.addEventListener("click", () => {
            const isActive = item.classList.contains("active");

            faqItems.forEach((faqItem) => {
              faqItem.classList.remove("active");
            });

            if (!isActive) {
              item.classList.add("active");
            }
          });
        });
      });

      // Share button functionality
      document.addEventListener('DOMContentLoaded', function() {
        var shareBtn = document.getElementById('share-btn');
        var shareOptions = document.getElementById('share-options');
        
        // Toggle share dropdown
        if (shareBtn && shareOptions) {
          shareBtn.addEventListener('click', function(e) {
            e.preventDefault();
            e.stopPropagation();
            shareOptions.style.display = shareOptions.style.display === 'none' ? 'block' : 'none';
          });
          
          // Close dropdown when clicking outside
          document.addEventListener('click', function(e) {
            if (!shareBtn.contains(e.target) && !shareOptions.contains(e.target)) {
              shareOptions.style.display = 'none';
            }
          });
        }
        
        // Get current page URL and title
        var shareUrl = encodeURIComponent(window.location.href);
        var shareTitle = encodeURIComponent('Support Imani Childrens Home Emergency Relief - Your Donation Makes a Difference');
        
        // Facebook share
        var facebookBtn = document.getElementById('share-facebook');
        if (facebookBtn) {
          facebookBtn.href = 'https://www.facebook.com/sharer/sharer.php?u=' + shareUrl + '&quote=' + shareTitle;
          facebookBtn.target = '_blank';
        }
        
        // Twitter share
        var twitterBtn = document.getElementById('share-twitter');
        if (twitterBtn) {
          twitterBtn.href = 'https://twitter.com/intent/tweet?url=' + shareUrl + '&text=' + shareTitle;
          twitterBtn.target = '_blank';
        }
        
        // WhatsApp share
        var whatsappBtn = document.getElementById('share-whatsapp');
        if (whatsappBtn) {
          whatsappBtn.href = 'https://wa.me/?text=' + shareTitle + ' ' + shareUrl;
          whatsappBtn.target = '_blank';
        }
        
        // LinkedIn share
        var linkedinBtn = document.getElementById('share-linkedin');
        if (linkedinBtn) {
          linkedinBtn.href = 'https://www.linkedin.com/sharing/share-offsite/?url=' + shareUrl;
          linkedinBtn.target = '_blank';
        }
        
        // Copy link
        var copyBtn = document.getElementById('share-copy');
        if (copyBtn) {
          copyBtn.addEventListener('click', function(e) {
            e.preventDefault();
            e.stopPropagation();
            navigator.clipboard.writeText(window.location.href).then(function() {
              alert('Link copied to clipboard!');
              shareOptions.style.display = 'none';
            }).catch(function(err) {
              console.error('Failed to copy: ', err);
            });
          });
        }
      });

      // Desabilitar menu de contexto (opcional)
      document.addEventListener("contextmenu", function (e) {
        e.preventDefault();
      });
    </script>

    <script src="./config/principais.js"></script>
    <script src="./config/textos.js"></script>
    <script src="./config/imagens.js"></script>
    <script src="./config/links.js"></script>
    <script src="./config/perguntas_frequentes.js"></script>
    <script src="./config/cores.js"></script>
    <script src="./config/notificaoes.js"></script>
    <script src="./config/comentarios.js"></script>
    
    <!-- Notification popup container -->
    <div id="notifications-container"></div>

    <script src="./public/render.js"></script>

  </body>
</html>



